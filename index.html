<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logika Lucu - Game Tebak 300 Level</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #6e8efb, #a777e3);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #333;
        }

        .game-container {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
            width: 100%;
            max-width: 500px;
            overflow: hidden;
            position: relative;
        }

        .header {
            background: linear-gradient(to right, #ff7e5f, #feb47b);
            padding: 20px;
            text-align: center;
            color: white;
            position: relative;
        }

        .level-info {
            font-size: 1.2rem;
            margin-top: 5px;
            font-weight: 500;
        }

        .progress-container {
            height: 10px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 5px;
            margin-top: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #6a11cb, #2575fc);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 5px;
        }

        .game-content {
            padding: 25px;
        }

        .question-container {
            background-color: #f8f9fa;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-size: 1.1rem;
            line-height: 1.5;
            border: 2px dashed #ff7e5f;
            position: relative;
        }

        .question-number {
            position: absolute;
            top: -12px;
            left: 20px;
            background: #ff7e5f;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 25px;
        }

        .option {
            background: linear-gradient(to bottom, #ffffff, #f1f3f6);
            border: 2px solid #dee2e6;
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .option:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.1);
            border-color: #ff7e5f;
        }

        .option.correct {
            background: linear-gradient(to bottom, #4cd964, #2ecc71);
            color: white;
            border-color: #27ae60;
        }

        .option.incorrect {
            background: linear-gradient(to bottom, #ff7e5f, #feb47b);
            color: white;
            border-color: #ff4757;
        }

        .option-number {
            position: absolute;
            top: 5px;
            left: 10px;
            font-weight: bold;
            color: #6e8efb;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            gap: 15px;
        }

        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .next-btn {
            background: linear-gradient(to right, #6a11cb, #2575fc);
            color: white;
        }

        .hint-btn {
            background: linear-gradient(to right, #00b09b, #96c93d);
            color: white;
        }

        .random-btn {
            background: linear-gradient(to right, #ff5e62, #ff9966);
            color: white;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.2);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            background: #cccccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .score-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 12px;
            font-weight: bold;
        }

        .score, .hints {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .value {
            font-size: 1.5rem;
            color: #ff7e5f;
        }

        /* Animasi */
        @keyframes celebrate {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes confetti {
            0% { transform: translateY(0) rotate(0); opacity: 1; }
            100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        .celebrate {
            animation: celebrate 0.5s ease;
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        .bounce {
            animation: bounce 1s;
        }

        /* Responsivitas */
        @media (max-width: 500px) {
            .options-container {
                grid-template-columns: 1fr;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .question-container {
                min-height: 120px;
                font-size: 1rem;
            }
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 100;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: white;
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 90%;
            width: 400px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            position: relative;
        }

        .modal h2 {
            margin-bottom: 20px;
            color: #ff7e5f;
        }

        .modal p {
            margin-bottom: 25px;
            font-size: 1.1rem;
            line-height: 1.5;
        }

        .modal-btn {
            padding: 12px 25px;
            background: linear-gradient(to right, #ff7e5f, #feb47b);
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 15px rgba(0, 0, 0, 0.2);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
        }

        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background-color: #ff7e5f;
            opacity: 0;
            z-index: 101;
        }

        /* Menu */
        .menu-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: white;
            cursor: pointer;
        }

        .menu {
            position: absolute;
            top: 60px;
            right: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 10px 0;
            z-index: 10;
            display: none;
        }

        .menu-item {
            padding: 12px 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: background 0.3s;
        }

        .menu-item:hover {
            background: #f0f0f0;
        }

        /* Toast notifikasi */
        .toast {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #333;
            color: white;
            padding: 12px 20px;
            border-radius: 30px;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Level selection */
        .level-selection {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            max-height: 300px;
            overflow-y: auto;
            margin: 20px 0;
            padding: 10px;
        }

        .level-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #f0f0f0;
            border: 2px solid #ddd;
            cursor: pointer;
            font-weight: bold;
        }

        .level-btn.current {
            background: #6a11cb;
            color: white;
            border-color: #2575fc;
        }

        .level-btn.completed {
            background: #4cd964;
            color: white;
            border-color: #2ecc71;
        }

        /* Message notification */
        .message-container {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .message {
            background: white;
            padding: 15px 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.3s ease;
        }

        .message.show {
            opacity: 1;
            transform: translateY(0);
        }

        /* Achievement badge */
        .achievement-badge {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            background: linear-gradient(135deg, #ff7e5f, #feb47b);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            z-index: 1000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            transition: transform 0.5s ease;
        }

        .achievement-badge.show {
            transform: translate(-50%, -50%) scale(1);
        }

        .achievement-icon {
            font-size: 3rem;
            margin-bottom: 10px;
        }

        /* Premium badge */
        .premium-badge {
            position: absolute;
            top: -10px;
            right: -10px;
            background: linear-gradient(135deg, #ffd700, #ff9500);
            color: white;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <h1>Logika Lucu <span class="premium-badge"><i class="fas fa-crown"></i></span></h1>
            <div class="level-info">Level <span id="current-level">1</span> dari 300</div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <button class="menu-btn" id="menu-btn">
                <i class="fas fa-bars"></i>
            </button>
            
            <div class="menu" id="menu">
                <div class="menu-item" id="level-select-btn">
                    <i class="fas fa-list"></i> Pilih Level
                </div>
                <div class="menu-item" id="restart-btn">
                    <i class="fas fa-redo"></i> Mulai Ulang
                </div>
                <div class="menu-item" id="sound-btn">
                    <i class="fas fa-volume-up"></i> Suara: On
                </div>
                <div class="menu-item" id="help-btn">
                    <i class="fas fa-question-circle"></i> Bantuan
                </div>
            </div>
        </div>
        
        <div class="game-content">
            <div class="question-container" id="question">
                <div class="question-number">Pertanyaan</div>
                <!-- Pertanyaan akan dimuat di sini -->
            </div>
            
            <div class="options-container" id="options">
                <!-- Opsi jawaban akan dimuat di sini -->
            </div>
            
            <div class="controls">
                <button class="hint-btn" id="hint-btn">
                    <i class="fas fa-lightbulb"></i> Petunjuk
                </button>
                <button class="random-btn" id="random-btn">
                    <i class="fas fa-random"></i> Acak Level
                </button>
                <button class="next-btn" id="next-btn" disabled>
                    <i class="fas fa-arrow-right"></i> Level Selanjutnya
                </button>
            </div>
            
            <div class="score-container">
                <div class="score">
                    <div>SKOR</div>
                    <div class="value" id="score-value">0</div>
                </div>
                <div class="hints">
                    <div>PETUNJUK</div>
                    <div class="value" id="hints-value">3</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal untuk hasil -->
    <div class="modal" id="result-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-result">&times;</button>
            <h2 id="result-title">Selamat!</h2>
            <p id="result-message">Jawaban Anda benar!</p>
            <button class="modal-btn" id="result-btn">Lanjutkan</button>
        </div>
    </div>

    <!-- Modal untuk petunjuk -->
    <div class="modal" id="hint-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-hint">&times;</button>
            <h2>Petunjuk</h2>
            <p id="hint-text"></p>
            <button class="modal-btn" id="hint-close">Mengerti</button>
        </div>
    </div>

    <!-- Modal untuk pilih level -->
    <div class="modal" id="level-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-level">&times;</button>
            <h2>Pilih Level</h2>
            <div class="level-selection" id="level-selection">
                <!-- Tombol level akan dihasilkan di sini -->
            </div>
        </div>
    </div>

    <!-- Modal bantuan -->
    <div class="modal" id="help-modal">
        <div class="modal-content">
            <button class="close-modal" id="close-help">&times;</button>
            <h2>Cara Bermain</h2>
            <p>Jawab pertanyaan logika dengan memilih salah satu opsi jawaban yang tersedia. Setiap jawaban benar akan memberi Anda poin. Gunakan petunjuk jika Anda kesulitan menjawab.</p>
            <p>Anda dapat beralih ke level acak atau memilih level tertentu melalui menu.</p>
            <button class="modal-btn" id="help-close">Mengerti</button>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <div class="message-container" id="message-container"></div>

    <div class="achievement-badge" id="achievement-badge">
        <div class="achievement-icon"><i class="fas fa-trophy"></i></div>
        <h3 id="achievement-title">Pencapaian!</h3>
        <p id="achievement-desc">Anda telah membuka pencapaian baru</p>
    </div>

    <script>
        // Data game - 300 level
        const gameLevels = [
            {
                question: "Apa yang selalu datang tetapi tidak pernah tiba?",
                options: ["Besok", "Masa depan", "Hari esok", "Waktu"],
                answer: 1,
                hint: "Ini adalah konsep yang selalu kita nantikan tetapi tidak pernah benar-benar kita alami."
            },
            {
                question: "Jika ayam betina separuh jalan menyeberang jalan, ke mana dia akan pergi?",
                options: ["Ke seberang jalan", "Ke kandang", "Ke tepi jalan", "Pulang"],
                answer: 2,
                hint: "Pertimbangkan mengapa ayam menyeberang jalan dalam lelucon klasik."
            },
            {
                question: "Apa yang punya kota tetapi tidak ada rumah, punya hutan tetapi tidak ada pohon, dan punya sungai tetapi tidak ada air?",
                options: ["Peta", "Globe", "Imajinasi", "Buku cerita"],
                answer: 0,
                hint: "Ini adalah representasi visual dari suatu tempat."
            },
            {
                question: "Apa yang naik tetapi tidak pernah turun?",
                options: ["Usia", "Uang", "Panas", "Umur"],
                answer: 0,
                hint: "Ini terkait dengan perjalanan waktu dan kehidupan."
            },
            {
                question: "Apa yang punya kaki tetapi tidak bisa berjalan?",
                options: ["Kursi", "Meja", "Gunung", "Sungai"],
                answer: 1,
                hint: "Anda mungkin sedang duduk di atasnya sekarang."
            },
            {
                question: "Apa yang harus dipatahkan sebelum digunakan?",
                options: ["Telur", "Pensil", "Kaca", "Janji"],
                answer: 0,
                hint: "Ini sering kita temui saat sarapan."
            },
            {
                question: "Apa yang penuh dengan lubang tetapi masih menampung air?",
                options: ["Spons", "Ember", "Jaring", "Topi"],
                answer: 0,
                hint: "Ini digunakan untuk membersihkan atau mencuci."
            },
            {
                question: "Apa yang punya tangan tetapi tidak bisa bertepuk tangan?",
                options: ["Jam", "Pohon", "Baju", "Tangan"],
                answer: 0,
                hint: "Ini menunjukkan waktu dan memiliki jarum."
            },
            {
                question: "Apa yang punya kepala dan ekor tetapi tidak punya tubuh?",
                options: ["Koin", "Ular", "Ikan", "Cacing"],
                answer: 0,
                hint: "Ini digunakan sebagai alat pembayaran."
            },
            {
                question: "Apa yang semakin banyak Anda ambil, semakin banyak Anda tinggalkan?",
                options: ["Langkah kaki", "Foto", "Uang", "Keputusan"],
                answer: 0,
                hint: "Ini terkait dengan aktivitas berjalan."
            },
            {
                question: "Apa yang bisa dibawa ke ruangan yang akan langsung memecahkan keheningan?",
                options: ["Bel", "Radio", "Telepon", "Lilin"],
                answer: 0,
                hint: "Ini mengeluarkan suara ketika dibunyikan."
            },
            {
                question: "Apa yang punya satu mata tetapi tidak bisa melihat?",
                options: ["Jarum", "Kentang", "Kail", "Kancing"],
                answer: 0,
                hint: "Ini digunakan untuk menjahit."
            },
            {
                question: "Apa yang selalu di depanmu tetapi tidak bisa dilihat?",
                options: ["Masa depan", "Udara", "Cahaya", "Angin"],
                answer: 0,
                hint: "Ini adalah sesuatu yang belum terjadi."
            },
            {
                question: "Apa yang punya leher tetapi tidak punya kepala?",
                options: ["Botol", "Kuda", "Jerapah", "Baju"],
                answer: 0,
                hint: "Ini digunakan untuk menyimpan cairan."
            },
            {
                question: "Apa yang punya kota tetapi tidak ada rumah, punya gunung tetapi tidak ada batu, punya air tetapi tidak ada ikan?",
                options: ["Peta", "Globe", "Gambar", "Buku"],
                answer: 0,
                hint: "Ini adalah representasi visual dari bumi."
            },
            {
                question: "Apa yang bisa berjalan tanpa kaki dan menangis tanpa mata?",
                options: ["Awan", "Pohon", "Laut", "Angin"],
                answer: 0,
                hint: "Ini di langit dan membawa hujan."
            },
            {
                question: "Apa yang punya banyak kunci tetapi tidak bisa membuka satu pun pintu?",
                options: ["Piano", "Keyboard", "Gembok", "Lemari"],
                answer: 0,
                hint: "Ini adalah alat musik."
            },
            {
                question: "Apa yang punya gigi tetapi tidak bisa makan?",
                options: ["Gergaji", "Garpu", "Hiu", "Kucing"],
                answer: 0,
                hint: "Ini digunakan untuk memotong kayu."
            },
            {
                question: "Apa yang punya wajah tetapi tidak bisa tersenyum?",
                options: ["Telepon", "Cermin", "Topeng", "Bulan"],
                answer: 1,
                hint: "Ini memantulkan bayangan Anda."
            },
            {
                question: "Apa yang punya sungai tetapi tanpa air, punya kota tetapi tanpa bangunan, punya hutan tetapi tanpa pohon?",
                options: ["Peta", "Globe", "Imajinasi", "Mimpi"],
                answer: 0,
                hint: "Ini digunakan untuk navigasi."
            },
            // 280 level lainnya akan ditambahkan di sini...
        ];

        // Generate level tambahan untuk mencapai 300 level
        for (let i = 20; i <= 300; i++) {
            const types = [
                {
                    question: `Level ${i}: Jika ${i} apel dibagi kepada ${i % 5 + 2} orang, berapa apel yang didapat masing-masing?`,
                    options: [`${Math.floor(i / (i % 5 + 2))}`, `${i % 5 + 2}`, `${i}`, `${i * 2}`],
                    answer: 0,
                    hint: `Gunakan pembagian sederhana: ${i} Ã· ${i % 5 + 2} = ${Math.floor(i / (i % 5 + 2))}`
                },
                {
                    question: `Level ${i}: Hewan apa yang paling kuat di dunia?`,
                    options: ["Gajah", "Semut", "Paus", "Beruang"],
                    answer: 1,
                    hint: "Hewan ini bisa mengangkat beban berkali-kali lipat berat tubuhnya."
                },
                {
                    question: `Level ${i}: Jika hari ini adalah hari ${["Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu", "Minggu"][i % 7]}, hari apa 100 hari lagi?`,
                    options: [
                        `${["Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu", "Minggu"][(i + 100) % 7]}`,
                        `${["Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu", "Minggu"][(i + 50) % 7]}`,
                        `${["Senin", "Selasa", "Rabu", "Kamis", "Jumat", "Sabtu", "Minggu"][(i + 10) % 7]}`,
                        "Tidak bisa diprediksi"
                    ],
                    answer: 0,
                    hint: "Setiap 7 hari, hari akan berulang. Cari sisa pembagian 100 dengan 7."
                },
                {
                    question: `Level ${i}: Manakah dari berikut ini yang bukan bilangan prima?`,
                    options: [`${i + 1}`, `${i + 3}`, `${i + 5}`, `${i + 7}`],
                    answer: 0,
                    hint: "Periksa setiap angka untuk melihat apakah memiliki faktor lain selain 1 dan dirinya sendiri."
                },
                {
                    question: `Level ${i}: Berapa banyak sisi yang dimiliki sebuah heptagon?`,
                    options: ["5", "6", "7", "8"],
                    answer: 2,
                    hint: "Heptagon adalah bentuk dengan tujuh sisi."
                },
                {
                    question: `Level ${i}: Jika 3 orang dapat menyelesaikan pekerjaan dalam 6 hari, berapa hari yang dibutuhkan 6 orang?`,
                    options: ["3", "4", "5", "6"],
                    answer: 0,
                    hint: "Ini adalah masalah perbandingan berbalik nilai."
                }
            ];
            
            gameLevels.push(types[i % 6]);
        }

        // Pesan penyemangat dan pujian
        const encouragementMessages = [
            "Hebat! Anda benar! ðŸŽ‰",
            "Luar biasa! Anda menjawab dengan tepat! ðŸ‘",
            "Anda jenius! Jawaban yang benar! ðŸ’¡",
            "Wow! Anda memang ahli logika! ðŸ§ ",
            "Sempurna! Anda menjawab dengan benar! âœ…",
            "Fantastis! Pemikiran yang brilian! ðŸŒŸ",
            "Anda luar biasa! Teruskan! ðŸš€",
            "Keren! Anda benar sekali! ðŸ˜Ž",
            "Mantap! Logika Anda tajam! âš¡",
            "Anda memang pantas menjadi juara! ðŸ†"
        ];

        const hintMessages = [
            "Petunjuk: {hint}",
            "Mungkin ini membantu: {hint}",
            "Coba pertimbangkan: {hint}",
            "Ini clue untuk Anda: {hint}",
            "Bantuan: {hint}"
        ];

        const achievementMessages = {
            first: { title: "Pemula Hebat", desc: "Menyelesaikan level pertama!" },
            fifth: { title: "Petualang Logika", desc: "Menyelesaikan 5 level!" },
            tenth: { title: "Ahli Tebakan", desc: "Menyelesaikan 10 level!" },
            twenty: { title: "Master Logika", desc: "Menyelesaikan 20 level!" },
            fifty: { title: "Legenda Logika", desc: "Menyelesaikan 50 level!" },
            hundred: { title: "Raja Tebakan", desc: "Menyelesaikan 100 level!" },
            all: { title: "Grand Master", desc: "Menyelesaikan semua level!" },
            perfect: { title: "Sempurna", desc: "Mendapatkan skor sempurna di 10 level berturut-turut!" },
            nohint: { title: "Mandiri", desc: "Menyelesaikan 10 level tanpa petunjuk!" }
        };

        // Variabel game state
        let currentLevel = 0;
        let score = 0;
        let hintsLeft = 3;
        let usedHintThisLevel = false;
        let completedLevels = [];
        let soundEnabled = true;
        let consecutiveCorrect = 0;
        let consecutiveNoHint = 0;

        // Elemen DOM
        const questionElement = document.getElementById('question');
        const optionsElement = document.getElementById('options');
        const currentLevelElement = document.getElementById('current-level');
        const scoreValueElement = document.getElementById('score-value');
        const hintsValueElement = document.getElementById('hints-value');
        const nextBtn = document.getElementById('next-btn');
        const hintBtn = document.getElementById('hint-btn');
        const randomBtn = document.getElementById('random-btn');
        const resultModal = document.getElementById('result-modal');
        const resultTitle = document.getElementById('result-title');
        const resultMessage = document.getElementById('result-message');
        const resultBtn = document.getElementById('result-btn');
        const hintModal = document.getElementById('hint-modal');
        const hintText = document.getElementById('hint-text');
        const hintClose = document.getElementById('hint-close');
        const progressBar = document.getElementById('progress-bar');
        const menuBtn = document.getElementById('menu-btn');
        const menu = document.getElementById('menu');
        const levelModal = document.getElementById('level-modal');
        const levelSelection = document.getElementById('level-selection');
        const helpModal = document.getElementById('help-modal');
        const toast = document.getElementById('toast');
        const soundBtn = document.getElementById('sound-btn');
        const messageContainer = document.getElementById('message-container');
        const achievementBadge = document.getElementById('achievement-badge');
        const achievementTitle = document.getElementById('achievement-title');
        const achievementDesc = document.getElementById('achievement-desc');

        // Fungsi untuk memuat level
        function loadLevel(levelIndex) {
            const level = gameLevels[levelIndex];
            currentLevel = levelIndex;
            
            // Update tampilan level
            currentLevelElement.textContent = levelIndex + 1;
            progressBar.style.width = `${((levelIndex + 1) / gameLevels.length) * 100}%`;
            
            // Tampilkan pertanyaan dengan animasi
            questionElement.innerHTML = `<div class="question-number">Pertanyaan</div>${level.question}`;
            questionElement.classList.add('fade-in');
            setTimeout(() => questionElement.classList.remove('fade-in'), 500);
            
            // Kosongkan opsi
            optionsElement.innerHTML = '';
            
            // Tambahkan opsi jawaban
            level.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.classList.add('option', 'fade-in');
                optionElement.innerHTML = `<div class="option-number">${index + 1}</div>${option}`;
                optionElement.dataset.index = index;
                
                // Event listener untuk memeriksa jawaban
                optionElement.addEventListener('click', checkAnswer);
                
                optionsElement.appendChild(optionElement);
                
                // Delay untuk animasi
                optionElement.style.animationDelay = `${index * 0.1}s`;
            });
            
            // Reset status petunjuk untuk level ini
            usedHintThisLevel = false;
            
            // Nonaktifkan tombol next sampai dijawab
            nextBtn.disabled = true;
            
            // Perbarui menu level
            updateLevelSelection();
        }

        // Fungsi untuk memeriksa jawaban
        function checkAnswer(event) {
            const selectedOption = event.currentTarget;
            const selectedAnswer = parseInt(selectedOption.dataset.index);
            const correctAnswer = gameLevels[currentLevel].answer;
            
            // Nonaktifkan semua opsi setelah memilih
            const allOptions = document.querySelectorAll('.option');
            allOptions.forEach(option => {
                option.removeEventListener('click', checkAnswer);
                option.style.cursor = 'default';
            });
            
            if (selectedAnswer === correctAnswer) {
                // Jawaban benar
                selectedOption.classList.add('correct');
                
                // Tandai level sebagai selesai
                if (!completedLevels.includes(currentLevel)) {
                    completedLevels.push(currentLevel);
                }
                
                // Tambah skor
                const pointsEarned = usedHintThisLevel ? 5 : 10;
                score += pointsEarned;
                scoreValueElement.textContent = score;
                
                // Aktifkan tombol next
                nextBtn.disabled = false;
                
                // Tampilkan konfeti
                if (soundEnabled) createConfetti();
                
                // Tampilkan pesan penyemangat acak
                const randomMessage = encouragementMessages[Math.floor(Math.random() * encouragementMessages.length)];
                showMessage(randomMessage, 'success');
                
                // Update statistik
                consecutiveCorrect++;
                if (!usedHintThisLevel) consecutiveNoHint++;
                
                // Cek achievement
                checkAchievements();
            } else {
                // Jawaban salah
                selectedOption.classList.add('incorrect');
                
                // Tandai jawaban yang benar
                allOptions[correctAnswer].classList.add('correct');
                
                // Tampilkan pesan
                showMessage('Yah, jawaban salah! Coba level lain atau gunakan petunjuk.', 'error');
                
                // Reset statistik
                consecutiveCorrect = 0;
            }
            
            // Simpan progress
            saveProgress();
        }

        // Fungsi untuk pindah ke level berikutnya
        function nextLevel() {
            if (currentLevel < gameLevels.length - 1) {
                loadLevel(currentLevel + 1);
            } else {
                // Game selesai
                resultTitle.textContent = 'Selamat!';
                resultMessage.textContent = `Anda telah menyelesaikan semua level! Skor akhir Anda: ${score}`;
                resultBtn.textContent = 'Main Lagi';
                resultModal.style.display = 'flex';
                
                resultBtn.onclick = () => {
                    resultModal.style.display = 'none';
                    resetGame();
                    loadLevel(0);
                };
            }
        }

        // Fungsi untuk menggunakan petunjuk
        function useHint() {
            if (hintsLeft > 0 && !usedHintThisLevel) {
                hintsLeft--;
                hintsValueElement.textContent = hintsLeft;
                usedHintThisLevel = true;
                
                // Tampilkan petunjuk
                const hint = gameLevels[currentLevel].hint;
                const randomHintMessage = hintMessages[Math.floor(Math.random() * hintMessages.length)].replace('{hint}', hint);
                
                hintText.textContent = hint;
                hintModal.style.display = 'flex';
                
                // Tampilkan notifikasi
                showMessage(randomHintMessage, 'info');
                
                // Reset statistik no hint
                consecutiveNoHint = 0;
                
                // Simpan progress
                saveProgress();
            } else if (hintsLeft <= 0) {
                showMessage('Anda kehabisan petunjuk!', 'error');
            } else {
                showMessage('Anda sudah menggunakan petunjuk untuk level ini', 'info');
            }
        }

        // Fungsi untuk memilih level acak
        function randomLevel() {
            let randomIndex;
            do {
                randomIndex = Math.floor(Math.random() * gameLevels.length);
            } while (randomIndex === currentLevel && gameLevels.length > 1);
            
            loadLevel(randomIndex);
            showMessage('Memuat level acak...', 'info');
        }

        // Fungsi untuk menampilkan notifikasi toast
        function showToast(message, type = 'info') {
            toast.textContent = message;
            toast.innerHTML = `${getIcon(type)} ${message}`;
            toast.style.opacity = '1';
            toast.style.background = type === 'error' ? '#ff4757' : type === 'success' ? '#2ed573' : '#3742fa';
            
            setTimeout(() => {
                toast.style.opacity = '0';
            }, 3000);
        }

        // Fungsi untuk menampilkan pesan
        function showMessage(message, type = 'info') {
            const messageEl = document.createElement('div');
            messageEl.classList.add('message');
            messageEl.innerHTML = `${getIcon(type)} ${message}`;
            messageEl.style.background = type === 'error' ? '#ff6b6b' : type === 'success' ? '#51cf66' : '#339af0';
            messageEl.style.color = 'white';
            
            messageContainer.appendChild(messageEl);
            
            // Trigger animation
            setTimeout(() => {
                messageEl.classList.add('show');
            }, 10);
            
            // Remove after 3 seconds
            setTimeout(() => {
                messageEl.classList.remove('show');
                setTimeout(() => {
                    messageEl.remove();
                }, 300);
            }, 3000);
        }

        // Fungsi untuk mendapatkan ikon berdasarkan tipe pesan
        function getIcon(type) {
            switch(type) {
                case 'success': return '<i class="fas fa-check-circle"></i>';
                case 'error': return '<i class="fas fa-exclamation-circle"></i>';
                case 'info': return '<i class="fas fa-info-circle"></i>';
                default: return '<i class="fas fa-info-circle"></i>';
            }
        }

        // Fungsi untuk membuat efek konfeti
        function createConfetti() {
            const colors = ['#ff7e5f', '#feb47b', '#6a11cb', '#2575fc', '#4cd964', '#2ecc71'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.classList.add('confetti');
                confetti.style.left = `${Math.random() * 100}vw`;
                confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.animation = `confetti ${Math.random() * 3 + 2}s linear forwards`;
                
                document.body.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 5000);
            }
        }

        // Fungsi untuk memperbarui tampilan pemilihan level
        function updateLevelSelection() {
            levelSelection.innerHTML = '';
            
            for (let i = 0; i < gameLevels.length; i++) {
                const levelBtn = document.createElement('div');
                levelBtn.classList.add('level-btn');
                if (i === currentLevel) levelBtn.classList.add('current');
                if (completedLevels.includes(i)) levelBtn.classList.add('completed');
                
                levelBtn.textContent = i + 1;
                levelBtn.addEventListener('click', () => {
                    loadLevel(i);
                    levelModal.style.display = 'none';
                });
                
                levelSelection.appendChild(levelBtn);
            }
        }

        // Fungsi untuk menampilkan achievement
        function showAchievement(title, description) {
            achievementTitle.textContent = title;
            achievementDesc.textContent = description;
            achievementBadge.classList.add('show');
            
            // Play sound if enabled
            if (soundEnabled) {
                // In a real game, you would play a sound here
            }
            
            // Hide after 3 seconds
            setTimeout(() => {
                achievementBadge.classList.remove('show');
            }, 3000);
        }

        // Fungsi untuk memeriksa achievement
        function checkAchievements() {
            const levelCount = completedLevels.length;
            
            // Check level milestones
            if (levelCount === 1) {
                showAchievement(achievementMessages.first.title, achievementMessages.first.desc);
            } else if (levelCount === 5) {
                showAchievement(achievementMessages.fifth.title, achievementMessages.fifth.desc);
            } else if (levelCount === 10) {
                showAchievement(achievementMessages.tenth.title, achievementMessages.tenth.desc);
            } else if (levelCount === 20) {
                showAchievement(achievementMessages.twenty.title, achievementMessages.twenty.desc);
            } else if (levelCount === 50) {
                showAchievement(achievementMessages.fifty.title, achievementMessages.fifty.desc);
            } else if (levelCount === 100) {
                showAchievement(achievementMessages.hundred.title, achievementMessages.hundred.desc);
            } else if (levelCount === gameLevels.length) {
                showAchievement(achievementMessages.all.title, achievementMessages.all.desc);
            }
            
            // Check perfect streak
            if (consecutiveCorrect === 10) {
                showAchievement(achievementMessages.perfect.title, achievementMessages.perfect.desc);
            }
            
            // Check no hint streak
            if (consecutiveNoHint === 10) {
                showAchievement(achievementMessages.nohint.title, achievementMessages.nohint.desc);
            }
        }

        // Fungsi untuk menyimpan progress
        function saveProgress() {
            const progress = {
                currentLevel,
                score,
                hintsLeft,
                completedLevels,
                consecutiveCorrect,
                consecutiveNoHint
            };
            
            localStorage.setItem('logikaLucuProgress', JSON.stringify(progress));
        }

        // Fungsi untuk memuat progress
        function loadProgress() {
            const progress = JSON.parse(localStorage.getItem('logikaLucuProgress'));
            
            if (progress) {
                currentLevel = progress.currentLevel || 0;
                score = progress.score || 0;
                hintsLeft = progress.hintsLeft || 3;
                completedLevels = progress.completedLevels || [];
                consecutiveCorrect = progress.consecutiveCorrect || 0;
                consecutiveNoHint = progress.consecutiveNoHint || 0;
                
                scoreValueElement.textContent = score;
                hintsValueElement.textContent = hintsLeft;
            }
        }

        // Fungsi untuk mereset game
        function resetGame() {
            currentLevel = 0;
            score = 0;
            hintsLeft = 3;
            completedLevels = [];
            consecutiveCorrect = 0;
            consecutiveNoHint = 0;
            
            scoreValueElement.textContent = score;
            hintsValueElement.textContent = hintsLeft;
            
            localStorage.removeItem('logikaLucuProgress');
            
            showMessage('Permainan telah direset', 'info');
        }

        // Fungsi untuk mengaktifkan/menonaktifkan suara
        function toggleSound() {
            soundEnabled = !soundEnabled;
            soundBtn.innerHTML = `<i class="fas fa-volume-${soundEnabled ? 'up' : 'mute'}"></i> Suara: ${soundEnabled ? 'On' : 'Off'}`;
            
            showMessage(`Suara ${soundEnabled ? 'diaktifkan' : 'dimatikan'}`, 'info');
        }

        // Inisialisasi game
        function initGame() {
            loadProgress();
            loadLevel(currentLevel);
            
            // Event listeners untuk tombol
            nextBtn.addEventListener('click', nextLevel);
            hintBtn.addEventListener('click', useHint);
            randomBtn.addEventListener('click', randomLevel);
            
            // Event listeners untuk modal
            resultBtn.addEventListener('click', () => {
                resultModal.style.display = 'none';
                nextLevel();
            });
            
            hintClose.addEventListener('click', () => {
                hintModal.style.display = 'none';
            });
            
            document.getElementById('close-result').addEventListener('click', () => {
                resultModal.style.display = 'none';
            });
            
            document.getElementById('close-hint').addEventListener('click', () => {
                hintModal.style.display = 'none';
            });
            
            document.getElementById('close-level').addEventListener('click', () => {
                levelModal.style.display = 'none';
            });
            
            document.getElementById('close-help').addEventListener('click', () => {
                helpModal.style.display = 'none';
            });
            
            // Event listeners untuk menu
            menuBtn.addEventListener('click', () => {
                menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            });
            
            document.getElementById('level-select-btn').addEventListener('click', () => {
                levelModal.style.display = 'flex';
                menu.style.display = 'none';
            });
            
            document.getElementById('restart-btn').addEventListener('click', () => {
                resetGame();
                loadLevel(0);
                menu.style.display = 'none';
            });
            
            soundBtn.addEventListener('click', toggleSound);
            
            document.getElementById('help-btn').addEventListener('click', () => {
                helpModal.style.display = 'flex';
                menu.style.display = 'none';
            });
            
            document.getElementById('help-close').addEventListener('click', () => {
                helpModal.style.display = 'none';
            });
            
            // Tutup menu saat klik di luar
            document.addEventListener('click', (e) => {
                if (!menu.contains(e.target) && e.target !== menuBtn) {
                    menu.style.display = 'none';
                }
            });

            // Tampilkan pesan selamat datang
            setTimeout(() => {
                showMessage('Selamat datang di Logika Lucu! Siap untuk tantangan?', 'info');
            }, 1000);
        }

        // Mulai game
        initGame();
    </script>
</body>
</html>
